{"version":3,"sources":["uni-app:///main.js","webpack:///E:/uniapp/gmt_member/pages/integral/integral.vue?8aa7","webpack:///E:/uniapp/gmt_member/pages/integral/integral.vue?efc1","webpack:///E:/uniapp/gmt_member/pages/integral/integral.vue?f9df","webpack:///E:/uniapp/gmt_member/pages/integral/integral.vue?fbc3","uni-app:///pages/integral/integral.vue","webpack:///E:/uniapp/gmt_member/pages/integral/integral.vue?6a42"],"names":["createPage","Page","renderjs","component","options","__file","components","pageTop","wybLoading","myToast","myModal","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,sBACA,gD,mDACAA,EAAWC,a;;;;2DCHX,kRACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,8BACZ,aAAAF,E;;;;2GCvBf,qzB;;;;2GCAA,8LAAIG,EAAa,CACfC,QAAS,WACP,OAAO,uLAITC,WAAY,WACV,OAAO,qKAITC,QAAS,WACP,OAAO,mJAITC,QAAS,WACP,OAAO,oJAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DC7BvB,yeAAo0B,eAAG,G;;;;gJC0Iv0B,CACA,KADA,WAEA,OACA,iBACA,WACA,KACA,iBACA,UACA,oIACA,0IACA,6IACA,gHAGA,YACA,4DACA,kDACA,kDACA,kDACA,kDACA,kDACA,mDACA,aACA,iBACA,YACA,gBACA,iBACA,kBACA,cACA,aAGA,OACA,sBACA,qCAGA,SAEA,OAFA,SAEA,GACA,WACA,cACA,aAGA,gBACA,4BAIA,mBAbA,WAcA,6EACA,GAEA,iBACA,4BAGA,QAGA,UAxBA,SAwBA,GAEA,mBADA,OAOA,OAhCA,WAgCA,WACA,iCACA,0DAEA,GADA,8BACA,mBACA,mBACA,oBACA,4BAEA,8BACA,2BACA,wBACA,wBAEA,mEAEA,wBACA,gCACA,oBACA,sCACA,6BAKA,uBACA,mBACA,2BACA,8BAEA,mBACA,2BACA,iCAMA,YAtEA,SAsEA,cACA,aACA,OACA,cAGA,iCACA,mFACA,8BACA,mBACA,qBACA,6BACA,qEACA,mBACA,wBACA,8BAEA,mBACA,0BACA,iCAMA,WA/FA,WA+FA,WACA,GACA,iBAEA,iCACA,+EACA,8BACA,mBACA,mBACA,wBACA,4BACA,+DAEA,mBACA,0BACA,iCAOA,UArHA,SAqHA,GACA,0BACA,iBACA,sBAEA,uBAIA,YA9HA,WA8HA,WACA,+DACA,8BACA,2BACA,eACA,wBACA,gCACA,wBACA,wBAEA,oBACA,sCACA,wBAEA,oBACA,wBACA,eAMA,YApJA,WAoJA,WACA,uEACA,2CACA,gDACA,0CACA,+CAGA,gBAIA,QAhKA,WAgKA,WACA,8EACA,4BAKA,OA5MA,WA6MA,mBACA,qB;;;;2DCxVA,+0BAAo/C,eAAG,G","file":"pages/integral/integral.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/integral/integral.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./integral.vue?vue&type=template&id=4e58b806&\"\nvar renderjs\nimport script from \"./integral.vue?vue&type=script&lang=js&\"\nexport * from \"./integral.vue?vue&type=script&lang=js&\"\nimport style0 from \"./integral.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/integral/integral.vue\"\nexport default component.exports","export * from \"-!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral.vue?vue&type=template&id=4e58b806&\"","var components = {\n  pageTop: function() {\n    return import(\n      /* webpackChunkName: \"components/page-top/page-top\" */ \"@/components/page-top/page-top.vue\"\n    )\n  },\n  wybLoading: function() {\n    return import(\n      /* webpackChunkName: \"components/wyb-loading/wyb-loading\" */ \"@/components/wyb-loading/wyb-loading.vue\"\n    )\n  },\n  myToast: function() {\n    return import(\n      /* webpackChunkName: \"components/my-toast/my-toast\" */ \"@/components/my-toast/my-toast.vue\"\n    )\n  },\n  myModal: function() {\n    return import(\n      /* webpackChunkName: \"components/my-modal/my-modal\" */ \"@/components/my-modal/my-modal.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral.vue?vue&type=script&lang=js&\"","<template>\n\t<view id=\"integral\">\n\t\t<page-top :bgImg='1'></page-top>\r\n\t\t<!--  -->\r\n\t\t  <view class=\"integralpage\">\r\n\t\t\t  <view class=\"integral-header\">\r\n\t\t\t\t\t<!-- 出发币赚取 -->\r\n\t\t\t\t  <view class=\"get-integral\" @click=\"tabHeader(1)\">\r\n\t\t\t\t\t  <view class=\"integral-img\">\r\n\t\t\t\t\t\t  <img :src=\"isGetIntegral?'/static/images/integral_icon1_active.png':'/static/images/integral_icon1.png'\"/>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view :class=\"{'nos_integral-title':!isGetIntegral}\">\r\n\t\t\t\t\t\t  赚奖学金\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t  </view>\r\n\t\t\t\t  <!-- 出发币兑换 -->\r\n\t\t\t\t  <view class=\"put-integral\"  @click=\"tabHeader(2)\">\r\n\t\t\t\t\t\t<view class=\"integral-img2\">\r\n\t\t\t\t\t\t  <img  :src=\"isGetIntegral?'/static/images/integral_icon2.png':'/static/images/integral_icon2_active.png'\"/>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view :class=\"{'nos_integral-title':isGetIntegral}\">\r\n\t\t\t\t\t\t\t奖学金兑换\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t  </view>\r\n\t\t\t  </view>\r\n\t\t\t  <!--  -->\r\n\t\t\t  <view v-if=\"isGetIntegral\">\r\n\t\t\t\t <!-- 签到 -->\r\n\t\t\t\t <view class=\"integral-content\">\r\n\t\t\t\t\t<view class=\"get-integral-title\">\r\n\t\t\t\t\t\t连续签到领好礼\r\n\t\t\t\t\t</view> \r\n\t\t\t\t\t<view class=\"sign-list\"> \r\n\t\t\t\t\t\t<view v-for=\"(item,key) in signItem\" :key=\"key\" class=\"sign-item\">\r\n\t\t\t\t\t\t\t<view v-show=\"item.sign\" class=\"coin\">\r\n\t\t\t\t\t\t\t\t<img src=\"/static/images/coin.png\"/>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-if=\"!item.sign\" class=\"no-sign\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"key!==6\"  :class=\"{'no-sign-click sign-beforn-text':item.signTo,'sign-beforn-text':!item.signTo}\">+{{item.integral}}</view>\r\n\t\t\t\t\t\t\t\t<view v-else class=\"gift-img\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"/static/images/sign_icon.png\"/>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"sign-text\" :class=\"{'sign-color333':item.sign}\">\r\n\t\t\t\t\t\t\t\t{{item.text}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t<view class=\"sign-info\">\r\n\t\t\t\t\t\t您已累积签到<text class=\"colorRed\">{{totalTime}}</text>天，共获得<text class=\"colorRed\">{{totalIntegral}}</text>奖学金\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t<view :class=\"{'sign-btn':!todaySign,'after-sign-btn':todaySign}\" @click=\"goSign\">\r\n\t\t\t\t\t\t{{signBtnText}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"integral-content\">\r\n\t\t\t\t\t<view class=\"get-integral-title\">\r\n\t\t\t\t\t\t做任务赚出发币\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"get-item\" v-for=\"(item,key) in getItems\" :key=\"key\">\r\n\t\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t\t<view class=\"get-left\">\r\n\t\t\t\t\t\t\t<view class=\"get-item-img\">\r\n\t\t\t\t\t\t\t\t<img :src=\"item.imgUrl\"/>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"get-item-content\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"get-item-title\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"get-item-text\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.text}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t\t<view class=\"get-btn\" v-if=\"!item.success\" @click=\"goPage(item)\">\r\n\t\t\t\t\t\t\t去完成\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t\t<view class=\"after-get-btn\"  v-if=\"item.success\">\r\n\t\t\t\t\t\t\t已完成\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t<view v-if=\"showGZH\" class=\"official-account\" >\r\n\t\t\t\t\t\t<official-account  @error='errorLoad'></official-account>\r\n\t\t\t\t\t\t<view v-show=\"errorOfficial\" class=\"official-error\">\r\n\t\t\t\t\t\t\t请在微信搜索“GMTforkids”关注公众号，即可完成任务~~\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t  </view>\r\n\r\n\t\t\t  <!--  -->\r\n\t\t\t  <view class=\"put-integral-content\" v-if=\"!isGetIntegral\">\r\n\t\t\t\t\t<view class=\"put-item\" v-for=\"(item,key) in putItems\" :key=\"key\">\r\n\t\t\t\t\t  <!--  -->\r\n\t\t\t\t\t  <view class=\"put-left\">\r\n\t\t\t\t\t\t  <view class=\"put-item-img\">\r\n\t\t\t\t\t\t\t  <img :src=\"item.trophyImg\"/>\r\n\t\t\t\t\t\t  </view>\r\n\t\t\t\t\t\t\t<view class=\"put-item-content\">\r\n\t\t\t\t\t\t\t\t<view class=\"put-item-title\">\r\n\t\t\t\t\t\t\t\t\t{{item.trophyName}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- trophyIntegral：原价    promotionTrophyIntegral：优惠价-->\r\n\t\t\t\t\t\t\t\t<view class=\"del-item-text\" v-if=\"item.promotionTrophyIntegral!==0\">\r\n\t\t\t\t\t\t\t\t\t{{item.trophyIntegral}}出发币\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"put-item-text\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"item.promotionTrophyIntegral===0\">{{item.trophyIntegral}}</span><span v-if=\"item.promotionTrophyIntegral!==0\">{{item.promotionTrophyIntegral}}</span>出发币\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <!--  -->\r\n\t\t\t\t\t  <view v-if=\"item.integralStatus==='000000'\" class=\"get-btn\" @click=\"showMseeage(item)\">\r\n\t\t\t\t\t\t  兑换\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view v-if=\"item.integralStatus==='000002'\" class=\"get-btn\" style=\"background:#ddd;color:#999;font-size:12px\">\r\n\t\t\t\t\t\t  积分不足\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view v-if=\"item.integralStatus==='000001'\" style=\"width:60px\">\r\n\t\t\t\t\t\t  <img src=\"https://level8cases.oss-cn-hangzhou.aliyuncs.com/sale_over-987e55f6-7e76-490a-a526-dc31692593aa.png\" mode='widthFix'/>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t  </view>\r\n\t\t\t  </view>\r\n\t\t  </view>\r\n\t\t  <!-- 提示框 -->\r\n\t\t  <wyb-loading title=\"请稍后\" ref=\"loading\" type=\"rectangle\" bg-color=\"#ffffff\" ft-color=\"#666666\"/>\r\n\t\t  <my-toast :title=\"toastTitle\" ref=\"toast\" :loadingType=\"toastType\" type=\"rectangle\" bg-color=\"#ffffff\" ft-color=\"#666666\"/>\r\n\t\t  <my-modal ref=\"modal\" :msgText=\"msgText\" @confirmAction=\"changeGift\"></my-modal>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\terrorOfficial:false,\r\n\t\t\t\tshowGZH:false,\r\n\t\t\t\tid:0,\n\t\t\t\tisGetIntegral:true,\r\n\t\t\t\tgetItems:[\r\n\t\t\t\t\t{imgUrl:require('../../static/images/tasks/task_1.png'),title:'完善个人信息',text:'完善个人信息得50奖学金',success:false,url:'/pages/myInfo/myInfo'},\r\n\t\t\t\t\t{imgUrl:require('../../static/images/tasks/task_2.png'),title:'问卷调查',text:'填写问卷调查得50奖学金',success:false,url:'/pages/comingsoon/comingsoon'},\r\n\t\t\t\t\t{imgUrl:require('../../static/images/tasks/task_3.png'),title:'精选文章 ',text:'留言互动，每篇得50奖学金',success:false,url:'/pages/message/message?type=1'},\r\n\t\t\t\t\t{imgUrl:require('../../static/images/tasks/task_4.png'),title:'关注公众号',text:'关注公众号得200奖学金',success:false,url:''},\r\n\t\t\r\n\t\t\t\t],\r\n\t\t\t\tputItems:[],\r\n\t\t\t\tsignItem:[{text:'1天',ani:null,sign:true,signTo:false,integral:8},\r\n\t\t\t\t\t\t\t{text:'2天',ani:null,sign:true,signTo:false,integral:8},\r\n\t\t\t\t\t\t\t{text:'3天',ani:null,sign:false,signTo:false,integral:8},\r\n\t\t\t\t\t\t\t{text:'4天',ani:null,sign:false,signTo:false,integral:8},\r\n\t\t\t\t\t\t\t{text:'5天',ani:null,sign:false,signTo:false,integral:8},\r\n\t\t\t\t\t\t\t{text:'6天',ani:null,sign:false,signTo:false,integral:8},\r\n\t\t\t\t\t\t\t{text:'7天',ani:null,sign:false,signTo:false,integral:8}],\r\n\t\t\t\ttodaySign:false,\r\n\t\t\t\tsignBtnText:'签到',\r\n\t\t\t\ttotalTime:0,\r\n\t\t\t\ttotalIntegral:0,\r\n\t\t\t\ttoastTitle:\"出错啦\",\r\n\t\t\t\ttoastType:\"error\",\r\n\t\t\t\ttrophyType:-1,\r\n\t\t\t\tmsgText:\"\"\n\t\t\t};\n\t\t},\r\n\t\twatch: {\r\n\t\t\ttodaySign:function(val){\r\n\t\t\t\tval===true ? this.signBtnText = '已签到' : this.signBtnText = '签到';\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 页面跳转\r\n\t\t\tgoPage(item){\r\n\t\t\t\tif(item.url!==''){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:item.url\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.showGZH = true;\r\n\t\t\t\t\tthis.pageScrollToBottom();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t // 页面滚到底部,以便点击关注公众号任务时自动滚动到底部\r\n\t\t\tpageScrollToBottom() {                \r\n\t\t\t\twx.createSelectorQuery().select('#integral').boundingClientRect(function(rect) {\r\n\t\t\t\tif (rect){\r\n\t\t\t\t\t// 使页面滚动到底部\r\n\t\t\t\t\twx.pageScrollTo({\r\n\t\t\t\t\t\tscrollTop: rect.height+100\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t// 切换\r\n\t\t\ttabHeader(index){\r\n\t\t\t\tif(index === 1)\r\n\t\t\t\t\tthis.isGetIntegral = true;\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.isGetIntegral = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 签到\r\n\t\t\tgoSign(){\r\n\t\t\t\tthis.$refs.loading.showLoading() // 显示\r\n\t\t\t\tthis.myRequest('/miniProgram/api/sign').then(res => {\r\n\t\t\t\t\tthis.$refs.loading.hideLoading() // \r\n\t\t\t\t\tif(res.data.status === 0){\r\n\t\t\t\t\t\tthis.toastType = \"ring\";\r\n\t\t\t\t\t\tthis.toastTitle = \"签到成功\";\r\n\t\t\t\t\t\tthis.$refs.toast.showLoading() // 显示\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet signInfo = JSON.parse(res.data.data);\r\n\t\t\t\t\t\tlet signInfo2 = JSON.parse(res.data.data2);\r\n\t\t\t\t\t\tthis.todaySign = signInfo.todaySign;\r\n\t\t\t\t\t\tthis.signItem = signInfo.signRecord;\r\n\t\t\t\t\t\t// this.signItem[this.index].signTo = true;//根据signTo实现动画效果\r\n\t\t\t\t\t\tthis.$store.dispatch(\"changeIntegralAction\",res.data.userTotalIntegral);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.totalTime = signInfo2.totalTime;\r\n\t\t\t\t\t\tthis.totalIntegral = signInfo2.totalIntegral;\r\n\t\t\t\t\t\tfor(let key=0;key<7;key++){\r\n\t\t\t\t\t\t\tthis.signItem[key].text = `${key+1}天`;\r\n\t\t\t\t\t\t\tthis.signItem[key].signTo = false;//根据signTo实现动画效果，动画完后signTo重新为false \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// setTimeout(function(){\r\n\t\t\t\t\t\t// \tthis.signItem[this.index].sign = true; //因为动画效果有0.5s，所以改变每一个签到状态的图标需要延迟0.5s\r\n\t\t\t\t\t\t// },500)\r\n\t\t\t\t\t}else if(res.data.status === 10013){\r\n\t\t\t\t\t\tthis.toastType = \"none\";\r\n\t\t\t\t\t\tthis.toastTitle = \"已签到，请勿重复签到！\";\r\n\t\t\t\t\t\tthis.$refs.toast.showLoading() // 显示\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.toastType = \"none\";\r\n\t\t\t\t\t\tthis.toastTitle = \"签到失败，请稍后再试！\";\r\n\t\t\t\t\t\tthis.$refs.toast.showLoading() // 显示\r\n\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 点击兑换\r\n\t\t\tshowMseeage(item){\r\n\t\t\t\tthis.id = item.id;//为了在真的兑换奖品时可以\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tgoodsId:item.id\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tthis.$refs.loading.showLoading() // 显示\r\n\t\t\t\tthis.myRequest('/miniProgram/api/goods/conversion/str',{data:data}).then(res => {\r\n\t\t\t\t\tthis.$refs.loading.hideLoading() // \r\n\t\t\t\t\tif(res.data.status === 0){\r\n\t\t\t\t\t\tthis.msgText = res.data.str;\r\n\t\t\t\t\t\tthis.$refs.modal.toggleModal();\r\n\t\t\t\t\t}else if(res.data.status === 10016 || res.data.status === 10017|| res.data.status === 10019){\r\n\t\t\t\t\t\tthis.toastType = \"none\";\r\n\t\t\t\t\t\tthis.toastTitle = res.data.msg;\r\n\t\t\t\t\t\tthis.$refs.toast.showLoading() // 显示\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.toastType = \"none\";\r\n\t\t\t\t\t\tthis.toastTitle = \"兑换失败，请联系客服\";\r\n\t\t\t\t\t\tthis.$refs.toast.showLoading() // 显示\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\r\n\t\t\t},\r\n\t\t\t// 兑换奖品\r\n\t\t\tchangeGift(){\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tgoodsId:this.id\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.loading.showLoading() // 显示\r\n\t\t\t\tthis.myRequest('/miniProgram/api/goods/conversion',{data:data}).then(res => {\r\n\t\t\t\t\tthis.$refs.loading.hideLoading() // \r\n\t\t\t\t\tif(res.data.status === 0){\r\n\t\t\t\t\t\tthis.toastType = \"ring\";\r\n\t\t\t\t\t\tthis.toastTitle = res.data.msg;\r\n\t\t\t\t\t\tthis.$refs.toast.showLoading() // 显示\r\n\t\t\t\t\t\tthis.$store.dispatch(\"changeIntegralAction\",res.data.integralNum);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.toastType = \"none\";\r\n\t\t\t\t\t\tthis.toastTitle = \"兑换失败，请联系客服\";\r\n\t\t\t\t\t\tthis.$refs.toast.showLoading() // 显示\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\r\n\t\t\t},\r\n\t\t\t// 公众号组件加载失败\r\n\t\t\terrorLoad(e){\r\n\t\t\t\tconsole.log('official',e)\r\n\t\t\t\tif(e.type === 'error'){\r\n\t\t\t\t\tthis.errorOfficial = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.errorOfficial = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取签到信息\r\n\t\t\tgetSignList(){\r\n\t\t\t\tthis.myRequest('/miniProgram/api/sign/list').then(res => {\r\n\t\t\t\t\tlet signInfo = JSON.parse(res.data.data);\r\n\t\t\t\t\tlet signInfo2 = JSON.parse(res.data.data2);\r\n\t\t\t\t\tconsole.log(signInfo)\r\n\t\t\t\t\tthis.totalTime = signInfo2.totalTime;\r\n\t\t\t\t\tthis.totalIntegral = signInfo2.totalIntegral;\r\n\t\t\t\t\tthis.todaySign = signInfo.todaySign;\r\n\t\t\t\t\tthis.signItem = signInfo.signRecord;\r\n\t\t\r\n\t\t\t\t\tfor(let key=0;key<7;key++){\r\n\t\t\t\t\t\tthis.signItem[key].text = `${key+1}天`;\r\n\t\t\t\t\t\tthis.signItem[key].signTo = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let key=0;key<7;key++){\r\n\t\t\t\t\t\tif(this.signItem[key].sign == false){\r\n\t\t\t\t\t\t\tthis.index = key;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取任务  \r\n\t\t\tgetTaskList(){\r\n\t\t\t\tthis.myRequest('/miniProgram/api/notification/task').then(res => {\r\n\t\t\t\t\tthis.getItems[0].success = res.data.data.userInfo;\r\n\t\t\t\t\tthis.getItems[1].success = res.data.data.questionnaire;\r\n\t\t\t\t\tthis.getItems[2].success = res.data.data.article;\r\n\t\t\t\t\tthis.getItems[3].success = res.data.data.followWeChat;\r\n\r\n\t\t\t\t\t// 获取完任务列表后在获取兑换列表  分步获取\r\n\t\t\t\t\tthis.getGift();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取兑换物品的列表\r\n\t\t\tgetGift(){\r\n\t\t\t\tthis.myRequest('/miniProgram/api/trophy/exchangeGoodsList').then(res => {\r\n\t\t\t\t   this.putItems = res.data.data;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getSignList();\r\n\t\t\tthis.getTaskList();\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\r\n\t@import url(\"../../common/common.less\");\r\n\t@btnH:80upx;\n#integral{\r\n\r\n\t.integralpage{\r\n\t    position: relative;\r\n\t    padding: 0 0 40upx;\r\n\t    width: 682upx;\r\n\t    margin: 0 auto;\r\n\t    margin-top: -100upx;\r\n\t    z-index: 2;\r\n\t\t.integral-header{\r\n\t\t    display: flex;\r\n\t\t    align-items: center;\r\n\t\t    font-weight: bold;\r\n\t\t    color: @mainColor;\r\n\t\t    background: #fff;\r\n\t\t    height: 100upx;\r\n\t\t    border-radius: 50upx;\r\n\t\t    font-size: 30upx;\r\n\t\t}\r\n\t\t.integral-img{\r\n\t\t    height: 40upx;\r\n\t\t    width: 36upx;\r\n\t\t    margin-right: 24upx;\r\n\t\t}\r\n\t\t.integral-img2{\r\n\t\t    height: 40upx;\r\n\t\t    width: 40upx;\r\n\t\t    margin-right: 24upx;\r\n\t\t}\r\n\t\t.nos_integral-title{\r\n\t\t    color: #999 !important;\r\n\t\t}\r\n\t\t.sign-list{\r\n\t\t    display: flex;\r\n\t\t    justify-content: space-between;\r\n\t\t    padding: 32upx 0px;\r\n\t\t}\r\n\t\t.coin{\r\n\t\t    width: 68upx;\r\n\t\t    height: 68upx;\r\n\t\t    margin-bottom: 12upx;\r\n\t\t}\r\n\t\t\r\n\t\t.sign-item{\r\n\t\t    display: flex;\r\n\t\t    align-items: center;\r\n\t\t    flex-direction: column;\r\n\t\t}\r\n\t\t.sign-text{\r\n\t\t    color: #999;\r\n\t\t    font-size: 20upx;\r\n\t\t}\r\n\t\t.no-sign-click{\r\n\t\t    opacity: 0;\r\n\t\t    margin-top: -50px;\r\n\t\t}\r\n\t\t.sign-beforn-text{\r\n\t\t    transition: all 0.5s linear;\r\n\t\t}\r\n\t\t.no-sign{\r\n\t\t    width: 68upx;\r\n\t\t    height: 68upx;\r\n\t\t    background: rgba(255,214,55, 0.3);\r\n\t\t    color:#f9ac12;\r\n\t\t    border-radius: 50%;\r\n\t\t    margin-bottom: 12upx;\r\n\t\t    font-size: 24upx;\r\n\t\t    display: flex;\r\n\t\t    justify-content: center;\r\n\t\t    align-items: center;\r\n\t\t}\r\n\t\t.gift-img{\r\n\t\t    width: 40%;\r\n\t\t    height: 40%;\r\n\t\t}\r\n\t\t.sign-color333{\r\n\t\t    color: #333;\r\n\t\t}\r\n\t\t.sign-info{\r\n\t\t    font-size: 22upx;\r\n\t\t    text-align: center;\r\n\t\t    padding: 16upx 0 12upx 0;\r\n\t\t\tletter-spacing: 2upx;\r\n\t\t    color: rgb(136, 136, 136);\r\n\t\t}\r\n\t\t.get-integral{\r\n\t\t    width: 50%;\r\n\t\t    display: flex;\r\n\t\t    align-items: center;\r\n\t\t    justify-content: center;\r\n\t\t    border-right: 1px solid #999;\r\n\t\t    box-sizing: border-box;\r\n\t\t}\r\n\t\t.put-integral{\r\n\t\t    width: 50%;\r\n\t\t    display: flex;\r\n\t\t    align-items: center;\r\n\t\t    justify-content: center\r\n\t\t}\r\n\t\t.integral-content{\r\n\t\t    padding: 40upx;\r\n\t\t    background: #fff;\r\n\t\t    margin-top: 30upx;\r\n\t\t    border-radius: 26upx;\r\n\t\t}\r\n\t\t.put-integral-content{\r\n\t\t    padding: 20upx;\r\n\t\t    background: #fff;\r\n\t\t    margin-top: 30upx;\r\n\t\t    border-radius: 26upx;\r\n\t\t}\r\n\t\t.get-item{\r\n\t\t    display: flex;\r\n\t\t    justify-content: space-between;\r\n\t\t    align-items: center;\r\n\t\t    padding: 22upx 0;\r\n\t\t}\r\n\t\t.put-item{\r\n\t\t    display: flex;\r\n\t\t    justify-content: space-between;\r\n\t\t    align-items: center;\r\n\t\t    padding: 12px 0;\r\n\t\t}\r\n\t\t.get-left{\r\n\t\t    display: flex;\r\n\t\t    margin-right: 8upx;\r\n\t\t    width: calc(100% - 120upx);\r\n\t\t}\r\n\t\t.get-item-img{\r\n\t\t    width: 90upx;\r\n\t\t    height: 90upx;\r\n\t\t    margin-right: 22upx;\r\n\t\t    flex-shrink: 0;\r\n\t\t}\r\n\t\t.put-left{\r\n\t\t    display: flex;\r\n\t\t    width: calc(100% - 120upx);\r\n\t\t}\r\n\t\t.put-item-img{\r\n\t\t    width: 210upx;\r\n\t\t    height: 152upx;\r\n\t\t    margin-right: 40upx;\r\n\t\t    border-radius: 8px;\r\n\t\t    overflow: hidden;\r\n\t\t}\r\n\t\t.get-integral-title{\r\n\t\t    font-weight: bold;\r\n\t\t    margin-bottom: 20upx;\r\n\t\t\tletter-spacing: 2upx;\r\n\t\t}\r\n\t\t.get-item-content{\r\n\t\t    display: flex;\r\n\t\t    flex-direction: column;\r\n\t\t    justify-content: center;\r\n\t\t\r\n\t\t}\r\n\t\t.get-item-title{\r\n\t\t    font-size: 26upx;\r\n\t\t    font-weight: bold;\r\n\t\t\tmargin-bottom: 10upx;\r\n\t\t\tletter-spacing: 2upx;\r\n\t\t}\r\n\t\t\r\n\t\t.get-item-text{\r\n\t\t    color: #999;\r\n\t\t    font-size: 22upx;\r\n\t\t}\r\n\t\t\r\n\t\t.put-item-content{\r\n\t\t    display: flex;\r\n\t\t    justify-content: center;\r\n\t\t    flex-direction: column;\r\n\t\t    width: calc(100% - 105px);\r\n\t\t}\r\n\t\t.put-item-title{\r\n\t\t    overflow: hidden;    \r\n\t\t \ttext-overflow: ellipsis;\r\n\t\t \twhite-space: nowrap;\r\n\t\t    font-size: 30upx;\r\n\t\t    font-weight: bold;\r\n\t\t    margin-bottom: 8upx;\r\n\t\t    box-sizing: border-box;\r\n\t\t\tletter-spacing: 2upx;\r\n\t\t}\r\n\t\t\r\n\t\t.put-item-text{\r\n\t\t    color:#f15822;\r\n\t\t    font-size: 24upx;\r\n\t\t}\r\n\t\t.del-item-text{\r\n\t\t    color:#bbb;\r\n\t\t    font-size: 22upx;\r\n\t\t    text-decoration: line-through;\r\n\t\t    margin-bottom: 6upx;\r\n\t\t}\r\n\t\t.get-btn{\r\n\t\t    .back-btn-color();\r\n\t\t    width: 108upx;\r\n\t\t    height: 58upx;\r\n\t\t    line-height: 58upx;\r\n\t\t    text-align: center;\r\n\t\t    font-size: 24upx;\r\n\t\t    border-radius: 30upx;\r\n\t\t\tcolor: #fff;\r\n\t\t}\r\n\t\t.after-get-btn{\r\n\t\t    background: #efefef;\r\n\t\t    color: #999;\r\n\t\t    width: 108upx;\r\n\t\t    height: 58upx;\r\n\t\t    line-height: 58upx;\r\n\t\t    text-align: center;\r\n\t\t    font-size: 24upx;\r\n\t\t    border-radius: 30upx;\r\n\t\t}\r\n\t\t.colorRed{\r\n\t\t    color: red;\r\n\t\t}\r\n\t\t.sign-btn{\r\n\t\t    .back-btn-color();\r\n\t\t    height: 74upx;\r\n\t\t\twidth: 314upx;\r\n\t\t    line-height: 74upx;\r\n\t\t    text-align: center;\r\n\t\t    border-radius: 38upx;\r\n\t\t    margin: 0 auto;\r\n\t\t    font-weight: bold;\r\n\t\t\tcolor: #fff;\r\n\t\t\tletter-spacing: 2upx;\r\n\t\t}\r\n\t\t.after-sign-btn{\r\n\t\t    background: #efefef;\r\n\t\t    color:#999;\r\n\t\t    height: 74upx;\r\n\t\t    line-height: 74upx;\r\n\t\t    text-align: center;\r\n\t\t    border-radius: 38upx;\r\n\t\t    width: 314upx;\r\n\t\t    margin: 0 auto;\r\n\t\t    font-weight: bold;\r\n\t\t\tletter-spacing: 2upx;\r\n\t\t}\r\n\t}\r\n\t.official-error{\r\n\t    font-size: 28upx;\r\n\t    padding: 32upx 28upx;\r\n\t    background: #fff;\r\n\t    border-radius: 20upx;\r\n\t    color: @mainColor;\r\n\t\tmargin-top: 10upx;\r\n\t}\r\n}\n</style>\n","import mod from \"-!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\用户目录\\\\下载\\\\HBuilderX.2.6.11.20200409.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./integral.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}
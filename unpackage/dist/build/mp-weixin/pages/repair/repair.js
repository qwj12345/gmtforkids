(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/repair/repair"],{"180b":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("6a88"));function n(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{toastTitle:"",toastType:"",msgText:"",uploadImgUrl:"",showPosition:!1,product:{},options:[123,568,789],option:"",remark:"",isGo:!1,id:""}},methods:{openPosition:function(){1==this.showPosition?this.showPosition=!1:this.showPosition=!0},choosePosition:function(t){this.showPosition=!1,this.option=t},confirmReport:function(){var e=this;if(this.isGo){var o={id:this.id,repairsRtr:this.option,remake:this.remark,damageImg:this.uploadImgUrl};this.$refs.loading.showLoading(),this.myRequest("/miniProgram/api/repairs/add",{data:o}).then((function(o){e.$refs.loading.hideLoading(),0===o.data.status?(e.toastType="ring",e.toastTitle="上报成功",e.$refs.toast.showLoading(),setTimeout((function(){t.navigateTo({url:"../bags/bags"})}),1500)):10037===o.data.status?(e.toastType="none",e.toastTitle="输入不完整",e.$refs.toast.showLoading()):(e.toastType="error",e.toastTitle="上报失败",e.$refs.toast.showLoading())}))}},reportRepair:function(){var t=this;""!==this.option&&""!==this.remark&&""!==this.uploadImgUrl?(this.$refs.loading.showLoading(),this.myRequest("/miniProgram/api/repairs/str",{data:{id:this.id}}).then((function(e){switch(t.isGo=!1,e.data.status){case 0:t.isGo=!0,t.msgText=e.data.data;break;case 10009:case 99999:t.msgText="系统出错";break;case 10037:t.isGo=!0,t.msgText='<div style="text-align:center">您好！您的书包已超过3年质保期，请确认是否进行付费修理服务？</div>';break;case 10030:t.msgText='<div style="text-align:center">您好！您的个人信息还未完善，请到个人中心先完善个人信息！</div>';break;default:t.msgText=e.data.msg}t.$refs.loading.hideLoading(),t.$refs.modal.toggleModal()}))):(this.toastType="none",this.toastTitle="请输入完整信息",this.$refs.toast.showLoading())},uploadImg:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(o){t.uploadFile({url:i.default.ip+"file/weixin/upload",filePath:o.tempFilePaths[0],name:"file",formData:{token:wx.getStorageSync("gtoken")},header:{"Content-Type":"multipart/form-data"},success:function(t){e.uploadImgUrl=JSON.parse(t.data).url},fail:function(t){console.log(t)}})}})},delImg:function(t){1===t?this.uploadImgUrl="":this.uploadImgUrl2=""},prevImg:function(){t.previewImage({urls:[this.uploadImgUrl]})}},onLoad:function(t){console.log(t),this.showPosition=!1,this.product=JSON.parse(t.product),this.option="",this.remark="",this.uploadImgUrl="",this.id=t.id}};e.default=a}).call(this,o("543d")["default"])},"1ee1":function(t,e,o){"use strict";(function(t){o("f931"),o("921b");i(o("66fd"));var e=i(o("2340"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},2340:function(t,e,o){"use strict";o.r(e);var i=o("445d"),n=o("6b52");for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("e8f7");var s,r=o("f0c5"),u=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=u.exports},"445d":function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}));var i={wybLoading:function(){return o.e("components/wyb-loading/wyb-loading").then(o.bind(null,"661a"))},myToast:function(){return o.e("components/my-toast/my-toast").then(o.bind(null,"c700"))},myModal:function(){return o.e("components/my-modal/my-modal").then(o.bind(null,"a84f"))}},n=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"6a88":function(t,e,o){"use strict";o.r(e);var i=o("af4b");for(var n in i)"default"!==n&&function(t){o.d(e,t,(function(){return i[t]}))}(n);var a,s,r,u,l=o("f0c5"),d=Object(l["a"])(i["default"],a,s,!1,null,null,null,!1,r,u);e["default"]=d.exports},"6b52":function(t,e,o){"use strict";o.r(e);var i=o("180b"),n=o.n(i);for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},7037:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={ip:"http://erp.level8cases.com:9000/"};e.default=i},"8c8e":function(t,e,o){},af4b:function(t,e,o){"use strict";o.r(e);var i=o("7037"),n=o.n(i);for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},e8f7:function(t,e,o){"use strict";var i=o("8c8e"),n=o.n(i);n.a}},[["1ee1","common/runtime","common/vendor"]]]);